import{_ as ke,u as Ce,i as Se}from"./index.48b299d9.js";/* empty css              */import{u as He}from"./loading.3f202aeb.js";import"./common.546a3b76.js";/* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               */import{d as Te,e as f,o as Ue,aG as de,A as s,B as R,aH as e,aF as l,aJ as d,aK as i,aC as p,aD as y,aL as z,aI as j,bN as G,D as F,u as re,E as Le,aS as ne,n as J,bC as Ae,b4 as Pe,bx as Re,a_ as Ie,bH as De,a$ as qe,bO as Be,bI as Ke,bJ as Ee,bF as We,b2 as Ne,bK as Me,bL as ze,bD as je,b1 as Ge,bE as Fe,bG as Je,bP as Qe,bQ as Xe,b3 as Ye,aV as Ze}from"./arco.1db1f704.js";import{g as xe}from"./project.6ad6264a.js";import{c as el,b as ll,e as al,f as tl}from"./route.e4e2ce50.js";import{A as ol,R as ul}from"./ocelot-options.514ee915.js";import{u as dl,j as rl}from"./vue.bbd05113.js";import"./chart.520624f6.js";const nl={class:"container"},il=d("GET"),sl=d("POST"),pl=d("PUT"),ml=d("DELETE"),fl=d("PATCH"),vl=d("OPTION"),bl=d("1.0"),cl=d("1.1"),hl=d("2.0"),gl=d("http"),Vl=d("https"),_l=d("GET"),yl=d("POST"),$l=d("PUT"),Ol=d("DELETE"),wl=d("PATCH"),kl=d("OPTION"),Cl={class:"actions"},Sl=Te({setup(Hl){const ie=dl(),se=rl(),Q=f([]),{t:X}=Ce(),H=f(!1),Y=f(se.query.id),T=f(Se.exports.isEmpty(Y.value)),V=f({host:"",port:0,routeId:void 0}),t=f(el()),I=f(),pe=()=>{H.value=!1},me=async()=>{var o;H.value=!1,T.value&&((o=t.value.downstreamHostAndPorts)==null||o.push(V.value));const a=X("submit.success");ne.success({content:a,duration:5*1e3})},fe=a=>{var o;t.value.downstreamHostAndPorts=(o=t.value.downstreamHostAndPorts)==null?void 0:o.filter(N=>N!==a)},Z=(a,o)=>{a?V.value={host:"",port:0,routeId:void 0}:V.value=o,H.value=!0,T.value=a},{loading:x,setLoading:ee}=He(),ve=async()=>{I.value&&I.value.validate(async a=>{if(a===void 0)try{if(ee(!0),T.value){const{data:o}=await ll(t.value);t.value.id=o}else{const{data:o}=await al(t.value);t.value.id=o}ne.success({content:X("submit.success"),duration:5*1e3}),ie.push({name:"SearchRoute"})}finally{ee(!1)}})};(async()=>{try{if(!T.value){const{data:a}=await tl(Y.value);t.value=a}}catch(a){console.log(a)}})();const D=f(),q=f(!1),O=f(""),be=()=>{q.value=!0,J(()=>{D.value&&D.value.focus()})},le=()=>{O.value&&(t.value.authenticationOptions===void 0&&(t.value.authenticationOptions=new ol),t.value.authenticationOptions.AllowedScopes===void 0?t.value.authenticationOptions.AllowedScopes=[O.value]:t.value.authenticationOptions.AllowedScopes.push(O.value),O.value=""),q.value=!1},ce=a=>{t.value.authenticationOptions!==void 0&&t.value.authenticationOptions.AllowedScopes!==void 0&&(t.value.authenticationOptions.AllowedScopes=t.value.authenticationOptions.AllowedScopes.filter(o=>o!==a))},B=f(),K=f(!1),w=f(""),he=()=>{K.value=!0,J(()=>{B.value&&B.value.focus()})},ae=()=>{w.value&&(t.value.rateLimitOptions===void 0&&(t.value.rateLimitOptions=new ul),t.value.rateLimitOptions.clientWhitelist==null?t.value.rateLimitOptions.clientWhitelist=[w.value]:t.value.rateLimitOptions.clientWhitelist.push(w.value),w.value=""),K.value=!1},ge=a=>{t.value.rateLimitOptions!==void 0&&t.value.rateLimitOptions.clientWhitelist!=null&&(t.value.rateLimitOptions.clientWhitelist=t.value.rateLimitOptions.clientWhitelist.filter(o=>o!==a))},E=f(),W=f(!1),U=f(""),Ve=()=>{W.value=!0,J(()=>{E.value&&E.value.focus()})},te=()=>{U.value&&(t.value.delegatingHandlers.push(U.value),U.value=""),W.value=!1},_e=a=>{t.value.delegatingHandlers=t.value.delegatingHandlers.filter(o=>o!==a)};return Ue(async()=>{const{data:a}=await xe();a&&(Q.value=a)}),(a,o)=>{const N=de("Breadcrumb"),L=Ae,r=Pe,n=Re,c=Ie,v=De,k=qe,ye=Be,b=Ke,h=Ee,C=We,A=de("icon-plus"),$=Ne,m=Me,_=ze,oe=je,P=Ge,M=Fe,$e=Je,S=Qe,Oe=Xe,ue=Ye,we=Ze;return s(),R("div",nl,[e(N,{items:["menu.project","menu.route.edit"]},null,8,["items"]),e(ue,{ref_key:"formRef",ref:I,layout:"vertical",model:t.value},{default:l(()=>[e($,{direction:"vertical",size:16},{default:l(()=>[e(oe,{class:"general-card"},{title:l(()=>[d(i(a.$t("route.card.basic.title")),1)]),default:l(()=>[e(v,{gutter:{md:8,lg:24,xl:32}},{default:l(()=>[e(n,{sm:24,md:12,lg:8,xl:6},{default:l(()=>[e(r,{field:"projectId",label:a.$t("project.label.name"),rules:[{required:!0,message:a.$t("project.form.name.required.errmsg")}]},{default:l(()=>[e(L,{modelValue:t.value.projectId,"onUpdate:modelValue":o[0]||(o[0]=u=>t.value.projectId=u),"allow-clear":"",options:Q.value,"field-names":{value:"id",label:"name"},placeholder:a.$t("select.options.default")},null,8,["modelValue","options","placeholder"])]),_:1},8,["label","rules"])]),_:1}),e(n,{sm:24,md:12,lg:8,xl:6},{default:l(()=>[e(r,{label:a.$t("route.requestIdKey.label"),rules:[{required:!0,message:a.$t("route.requestIdKey.required")}],"validate-trigger":["change","blur"],field:"requestIdKey"},{default:l(()=>[e(c,{modelValue:t.value.requestIdKey,"onUpdate:modelValue":o[1]||(o[1]=u=>t.value.requestIdKey=u),placeholder:a.$t("route.requestIdKey.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label","rules"])]),_:1}),e(n,{sm:24,md:12,lg:8,xl:6},{default:l(()=>[e(r,{label:a.$t("route.label.upstream.host"),field:"upstreamHost"},{default:l(()=>[e(c,{modelValue:t.value.upstreamHost,"onUpdate:modelValue":o[2]||(o[2]=u=>t.value.upstreamHost=u),placeholder:a.$t("route.upstream.host.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(n,{sm:24,md:12,lg:8,xl:6},{default:l(()=>[e(r,{label:a.$t("route.label.upstream.path.template"),field:"upstreamPathTemplate"},{default:l(()=>[e(c,{modelValue:t.value.upstreamPathTemplate,"onUpdate:modelValue":o[3]||(o[3]=u=>t.value.upstreamPathTemplate=u),placeholder:a.$t("route.upstream.path.template.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1}),e(v,{gutter:{md:8,lg:24,xl:32}},{default:l(()=>[e(n,{sm:24,md:12,lg:8,xl:6},{default:l(()=>[e(r,{label:a.$t("route.label.upstream.http.method"),field:"upstreamHttpMethod"},{default:l(()=>[e(ye,{modelValue:t.value.upstreamHttpMethod,"onUpdate:modelValue":o[4]||(o[4]=u=>t.value.upstreamHttpMethod=u)},{default:l(()=>[e(k,{value:"Get"},{default:l(()=>[il]),_:1}),e(k,{value:"Post"},{default:l(()=>[sl]),_:1}),e(k,{value:"Put"},{default:l(()=>[pl]),_:1}),e(k,{value:"Delete"},{default:l(()=>[ml]),_:1}),e(k,{value:"Patch"},{default:l(()=>[fl]),_:1}),e(k,{value:"Option"},{default:l(()=>[vl]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1}),e(n,{sm:24,md:12,lg:8,xl:6},{default:l(()=>[e(r,{label:a.$t("route.label.downstream.http.version"),field:"downstreamHttpVersion"},{default:l(()=>[e(L,{modelValue:t.value.downstreamHttpVersion,"onUpdate:modelValue":o[5]||(o[5]=u=>t.value.downstreamHttpVersion=u),"allow-clear":"",placeholder:a.$t("route.label.downstream.http.version.placeholder")},{default:l(()=>[e(b,{value:"1.0"},{default:l(()=>[bl]),_:1}),e(b,{value:"1.1"},{default:l(()=>[cl]),_:1}),e(b,{value:"2.0"},{default:l(()=>[hl]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(n,{sm:24,md:12,lg:8,xl:6},{default:l(()=>[e(r,{label:a.$t("route.label.downstream.scheme"),field:"downstreamScheme"},{default:l(()=>[e(L,{modelValue:t.value.downstreamScheme,"onUpdate:modelValue":o[6]||(o[6]=u=>t.value.downstreamScheme=u),"allow-clear":"",placeholder:a.$t("route.downstream.scheme.placeholder")},{default:l(()=>[e(b,{value:"http"},{default:l(()=>[gl]),_:1}),e(b,{value:"https"},{default:l(()=>[Vl]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(n,{sm:24,md:12,lg:8,xl:6},{default:l(()=>[e(r,{label:a.$t("route.label.downstream.http.method"),field:"downstreamHttpMethod"},{default:l(()=>[e(L,{modelValue:t.value.downstreamHttpMethod,"onUpdate:modelValue":o[7]||(o[7]=u=>t.value.downstreamHttpMethod=u),"allow-clear":"",placeholder:a.$t("route.downstream.http.method.placeholder")},{default:l(()=>[e(b,{value:"Get"},{default:l(()=>[_l]),_:1}),e(b,{value:"Post"},{default:l(()=>[yl]),_:1}),e(b,{value:"Put"},{default:l(()=>[$l]),_:1}),e(b,{value:"Delete"},{default:l(()=>[Ol]),_:1}),e(b,{value:"Patch"},{default:l(()=>[wl]),_:1}),e(b,{value:"Option"},{default:l(()=>[kl]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1}),e(v,{gutter:{md:8,lg:24,xl:32}},{default:l(()=>[e(n,{sm:24,md:12,lg:8,xl:6},{default:l(()=>[e(r,{label:a.$t("route.label.downstream.path.templatelabel"),field:"downstreamPathTemplate"},{default:l(()=>[e(c,{modelValue:t.value.downstreamPathTemplate,"onUpdate:modelValue":o[8]||(o[8]=u=>t.value.downstreamPathTemplate=u),placeholder:a.$t("route.label.downstream.path.templateplaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),t.value.fileCacheOptions?(s(),p(n,{key:0,sm:24,md:12,lg:8,xl:6},{default:l(()=>[e(r,{label:a.$t("route.label.filecache.ttlseconds"),field:"cacheTtlseconds"},{default:l(()=>[e(h,{modelValue:t.value.fileCacheOptions.ttlSeconds,"onUpdate:modelValue":o[9]||(o[9]=u=>t.value.fileCacheOptions.ttlSeconds=u),"hide-button":!0,placeholder:a.$t("route.filecache.ttlseconds.placeholder")},{append:l(()=>[d(i(a.$t("unit.second")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})):y("",!0),t.value.fileCacheOptions?(s(),p(n,{key:1,sm:24,md:12,lg:8,xl:6},{default:l(()=>[e(r,{label:a.$t("route.label.filecache.region"),field:"cacheRegion"},{default:l(()=>[e(c,{modelValue:t.value.fileCacheOptions.region,"onUpdate:modelValue":o[10]||(o[10]=u=>t.value.fileCacheOptions.region=u),placeholder:a.$t("route.filecache.region.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})):y("",!0)]),_:1}),e(v,{gutter:{md:8,lg:24,xl:32}},{default:l(()=>[e(n,{sm:24,md:12,lg:8,xl:6},{default:l(()=>[e(r,{label:a.$t("route.delegating.handlers.label"),field:"delegatingHandlers"},{default:l(()=>[e($,{wrap:""},{default:l(()=>[(s(!0),R(z,null,j(t.value.delegatingHandlers,u=>(s(),p(C,{key:u,size:"large",closable:!0,onClose:g=>_e(u)},{default:l(()=>[d(i(u),1)]),_:2},1032,["onClose"]))),128)),W.value?(s(),p(c,{key:0,ref_key:"inputDelegatingHandlersRef",ref:E,modelValue:U.value,"onUpdate:modelValue":o[11]||(o[11]=u=>U.value=u),modelModifiers:{trim:!0},style:{width:"90px"},onKeyup:G(te,["enter"]),onBlur:te},null,8,["modelValue","onKeyup"])):(s(),p(C,{key:1,size:"large",style:F({width:"120px",backgroundColor:"var(--color-fill-2)",border:"1px dashed var(--color-fill-3)",cursor:"pointer"}),onClick:Ve},{icon:l(()=>[e(A)]),default:l(()=>[d(" "+i(a.$t("rate.delegating.handlers.placeholder")),1)]),_:1},8,["style"]))]),_:1})]),_:1},8,["label"])]),_:1})]),_:1}),e(v,{gutter:{md:8,lg:24,xl:32}},{default:l(()=>[e(n,{sm:24,md:12,lg:8,xl:6},{default:l(()=>[e(r,{label:a.$t("route.routeIsCaseSensitive.label"),field:"routeIsCaseSensitive"},{default:l(()=>[e(_,{modelValue:t.value.routeIsCaseSensitive,"onUpdate:modelValue":o[12]||(o[12]=u=>t.value.routeIsCaseSensitive=u)},{default:l(()=>[e(m,{value:!0},{default:l(()=>[d(i(a.$t("radio.use.label")),1)]),_:1}),e(m,{value:!1},{default:l(()=>[d(i(a.$t("radio.not.use.label")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1}),e(n,{sm:24,md:12,lg:8,xl:6},{default:l(()=>[e(r,{label:a.$t("route.label.dangerousAcceptAnyServerCertificateValidator"),field:"dangerousAcceptAnyServerCertificateValidator"},{default:l(()=>[e(_,{modelValue:t.value.dangerousAcceptAnyServerCertificateValidator,"onUpdate:modelValue":o[13]||(o[13]=u=>t.value.dangerousAcceptAnyServerCertificateValidator=u)},{default:l(()=>[e(m,{value:!0},{default:l(()=>[d(i(a.$t("radio.use.label")),1)]),_:1}),e(m,{value:!1},{default:l(()=>[d(i(a.$t("radio.not.use.label")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1}),e(v,{gutter:{md:8,lg:24,xl:32}},{default:l(()=>[e(n,{sm:24,md:12,lg:8,xl:6},{default:l(()=>[e(r,{label:a.$t("route.label.useServiceDiscovery"),field:"useServiceDiscovery"},{default:l(()=>[e(_,{modelValue:t.value.useServiceDiscovery,"onUpdate:modelValue":o[14]||(o[14]=u=>t.value.useServiceDiscovery=u)},{default:l(()=>[e(m,{value:!0},{default:l(()=>[d(i(a.$t("radio.use.label")),1)]),_:1}),e(m,{value:!1},{default:l(()=>[d(i(a.$t("radio.not.use.label")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1}),e(n,{sm:24,md:12,lg:8,xl:6},{default:l(()=>[e(r,{label:a.$t("route.label.service.namespace"),field:"serviceNamespace"},{default:l(()=>[e(c,{modelValue:t.value.serviceNamespace,"onUpdate:modelValue":o[15]||(o[15]=u=>t.value.serviceNamespace=u),disabled:!t.value.useServiceDiscovery,placeholder:a.$t("route.service.namespace.placeholder")},null,8,["modelValue","disabled","placeholder"])]),_:1},8,["label"])]),_:1}),e(n,{sm:24,md:12,lg:8,xl:6},{default:l(()=>[e(r,{label:a.$t("route.label.service.name"),field:"serviceName"},{default:l(()=>[e(c,{modelValue:t.value.serviceName,"onUpdate:modelValue":o[16]||(o[16]=u=>t.value.serviceName=u),disabled:!t.value.useServiceDiscovery,placeholder:a.$t("route.service.name.placeholder")},null,8,["modelValue","disabled","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1}),e(v,{gutter:{md:8,lg:24,xl:32}},{default:l(()=>[e(n,{sm:24,md:12,lg:8,xl:6},{default:l(()=>[e(r,{label:a.$t("route.label.priority"),field:"priority"},{default:l(()=>[e(h,{modelValue:t.value.priority,"onUpdate:modelValue":o[17]||(o[17]=u=>t.value.priority=u),"hide-button":!0,placeholder:a.$t("route.priority.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(n,{sm:24,md:12,lg:8,xl:6},{default:l(()=>[e(r,{label:a.$t("route.label.sort"),field:"sort"},{default:l(()=>[e(h,{modelValue:t.value.sort,"onUpdate:modelValue":o[18]||(o[18]=u=>t.value.sort=u),placeholder:a.$t("route.sort.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1}),e(oe,{class:"general-card",bordered:!1},{default:l(()=>[e(Oe,{"default-active-key":"1"},{default:l(()=>[e(S,{key:"1",title:a.$t("route.card.downstreamHostAndPorts.title")},{default:l(()=>[e(v,{style:{"margin-bottom":"16px"}},{default:l(()=>[e(n,{span:16},{default:l(()=>[e($,null,{default:l(()=>[e(P,{type:"primary",onClick:o[19]||(o[19]=u=>Z(!0,void 0))},{icon:l(()=>[e(A)]),default:l(()=>[d(" "+i(a.$t("table.operations.add")),1)]),_:1})]),_:1})]),_:1})]),_:1}),e($e,{"row-key":"id",loading:re(x),data:t.value.downstreamHostAndPorts,bordered:!1},{columns:l(()=>[e(M,{title:a.$t("route.downstreamHostAndPorts.host.table"),"data-index":"host"},null,8,["title"]),e(M,{title:a.$t("route.downstreamHostAndPorts.port.table"),"data-index":"port"},null,8,["title"]),e(M,{title:a.$t("table.operations"),"data-index":"operations"},{cell:l(({record:u})=>[e($,null,{default:l(()=>[e(P,{type:"outline",size:"small",onClick:g=>Z(!1,u)},{default:l(()=>[d(i(a.$t("table.operations.edit")),1)]),_:2},1032,["onClick"]),e(P,{type:"primary",size:"small",status:"danger",onClick:g=>fe(u)},{default:l(()=>[d(i(a.$t("table.operations.del")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["title"])]),_:1},8,["loading","data"])]),_:1},8,["title"]),e(S,{key:"2",title:a.$t("route.qos.title")},{default:l(()=>[t.value.qoSOptions?(s(),p(v,{key:0,gutter:{md:8,lg:24,xl:32}},{default:l(()=>[e(n,{sm:24,md:12,lg:8,xl:6},{default:l(()=>[e(r,{label:a.$t("route.qos.exceptions.allowed.before.breaking.label")},{default:l(()=>[e(h,{modelValue:t.value.qoSOptions.exceptionsAllowedBeforeBreaking,"onUpdate:modelValue":o[20]||(o[20]=u=>t.value.qoSOptions.exceptionsAllowedBeforeBreaking=u),placeholder:a.$t("route.qos.exceptions.allowed.before.breaking.placeholder"),autocomplete:"off"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(n,{sm:24,md:12,lg:8,xl:6},{default:l(()=>[e(r,{label:a.$t("route.qos.duration.of.break.label")},{default:l(()=>[e(h,{modelValue:t.value.qoSOptions.durationOfBreak,"onUpdate:modelValue":o[21]||(o[21]=u=>t.value.qoSOptions.durationOfBreak=u),placeholder:a.$t("route.qos.duration.of.break.placeholder"),autocomplete:"off"},{append:l(()=>[d(i(a.$t("unit.ms")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(n,{sm:24,md:12,lg:8,xl:6},{default:l(()=>[e(r,{label:a.$t("route.qos.timeout.value.label")},{default:l(()=>[e(h,{modelValue:t.value.qoSOptions.timeoutValue,"onUpdate:modelValue":o[22]||(o[22]=u=>t.value.qoSOptions.timeoutValue=u),placeholder:a.$t("route.qos.timeout.value.placeholder"),autocomplete:"off"},{append:l(()=>[d(i(a.$t("unit.ms")),1)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1})):y("",!0)]),_:1},8,["title"]),e(S,{key:"3",title:a.$t("route.rate.limit.title")},{default:l(()=>[t.value.rateLimitOptions?(s(),p(v,{key:0,gutter:{md:8,lg:24,xl:32}},{default:l(()=>[e(n,{span:6},{default:l(()=>[e(r,{label:a.$t("route.rate.limit.enableRateLimiting.label"),field:"enableRateLimiting"},{default:l(()=>[e(_,{modelValue:t.value.rateLimitOptions.enableRateLimiting,"onUpdate:modelValue":o[23]||(o[23]=u=>t.value.rateLimitOptions.enableRateLimiting=u)},{default:l(()=>[e(m,{value:!0},{default:l(()=>[d(i(a.$t("radio.enabled.label")),1)]),_:1}),e(m,{value:!1},{default:l(()=>[d(i(a.$t("radio.disabled.label")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1}),e(n,{span:6},{default:l(()=>[e(r,{label:a.$t("route.rate.limit.period.label")},{default:l(()=>[e(h,{modelValue:t.value.rateLimitOptions.period,"onUpdate:modelValue":o[24]||(o[24]=u=>t.value.rateLimitOptions.period=u),placeholder:a.$t("route.rate.limit.period.placeholder"),autocomplete:"off"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(n,{span:6},{default:l(()=>[e(r,{label:a.$t("route.rate.limit.periodTimespan.label")},{default:l(()=>[e(h,{modelValue:t.value.rateLimitOptions.periodTimespan,"onUpdate:modelValue":o[25]||(o[25]=u=>t.value.rateLimitOptions.periodTimespan=u),placeholder:a.$t("route.rate.limit.periodTimespan.placeholder"),autocomplete:"off"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(n,{span:6},{default:l(()=>[e(r,{label:a.$t("route.rate.limit.limit.label")},{default:l(()=>[e(h,{modelValue:t.value.rateLimitOptions.limit,"onUpdate:modelValue":o[26]||(o[26]=u=>t.value.rateLimitOptions.limit=u),placeholder:a.$t("route.rate.limit.limit.label.placeholder"),autocomplete:"off"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1})):y("",!0),e(v,{gutter:{md:8,lg:24,xl:32}},{default:l(()=>[e(n,{span:24},{default:l(()=>[e(r,{label:a.$t("route.rate.limit.clientWhitelist.label")},{default:l(()=>[e($,{wrap:""},{default:l(()=>{var u;return[(s(!0),R(z,null,j((u=t.value.rateLimitOptions)==null?void 0:u.clientWhitelist,g=>(s(),p(C,{key:g,size:"large",closable:!0,onClose:Ul=>ge(g)},{default:l(()=>[d(i(g),1)]),_:2},1032,["onClose"]))),128)),K.value?(s(),p(c,{key:0,ref_key:"inputWhiteListRef",ref:B,modelValue:w.value,"onUpdate:modelValue":o[27]||(o[27]=g=>w.value=g),modelModifiers:{trim:!0},style:{width:"90px"},onKeyup:G(ae,["enter"]),onBlur:ae},null,8,["modelValue","onKeyup"])):(s(),p(C,{key:1,size:"large",style:F({width:"120px",backgroundColor:"var(--color-fill-2)",border:"1px dashed var(--color-fill-3)",cursor:"pointer"}),onClick:he},{icon:l(()=>[e(A)]),default:l(()=>[d(" "+i(a.$t("route.rate.limit.clientWhitelist.placeholder")),1)]),_:1},8,["style"]))]}),_:1})]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["title"]),e(S,{key:"4",title:a.$t("route.authentication.title")},{default:l(()=>[t.value.authenticationOptions?(s(),p(v,{key:0,gutter:{md:8,lg:24,xl:32}},{default:l(()=>[e(n,{sm:24,md:12,lg:8,xl:6},{default:l(()=>[e(r,{label:a.$t("route.authentication.provider.key.label")},{default:l(()=>[e(c,{modelValue:t.value.authenticationOptions.authenticationProviderKey,"onUpdate:modelValue":o[28]||(o[28]=u=>t.value.authenticationOptions.authenticationProviderKey=u),placeholder:a.$t("route.authentication.provider.key.placeholder"),autocomplete:"off"},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(n,{span:16},{default:l(()=>[e(r,{label:a.$t("route.authentication.allowed.scopes.label")},{default:l(()=>[e($,{wrap:""},{default:l(()=>[(s(!0),R(z,null,j(t.value.authenticationOptions.AllowedScopes,u=>(s(),p(C,{key:u,size:"large",closable:!0,onClose:g=>ce(u)},{default:l(()=>[d(i(u),1)]),_:2},1032,["onClose"]))),128)),q.value?(s(),p(c,{key:0,ref_key:"inputScopeRef",ref:D,modelValue:O.value,"onUpdate:modelValue":o[29]||(o[29]=u=>O.value=u),modelModifiers:{trim:!0},style:{width:"90px"},onKeyup:G(le,["enter"]),onBlur:le},null,8,["modelValue","onKeyup"])):(s(),p(C,{key:1,size:"large",style:F({width:"90px",backgroundColor:"var(--color-fill-2)",border:"1px dashed var(--color-fill-3)",cursor:"pointer"}),onClick:be},{icon:l(()=>[e(A)]),default:l(()=>[d(" "+i(a.$t("route.authentication.allowed.scopes.placeholder")),1)]),_:1},8,["style"]))]),_:1})]),_:1},8,["label"])]),_:1})]),_:1})):y("",!0)]),_:1},8,["title"]),e(S,{key:"5",title:a.$t("route.http.handler.title")},{default:l(()=>[t.value.httpHandlerOptions?(s(),p(v,{key:0,gutter:{md:8,lg:24,xl:32}},{default:l(()=>[e(n,{span:6},{default:l(()=>[e(r,{label:a.$t("route.http.handler.allow.auto.redirect.label")},{default:l(()=>[e(_,{modelValue:t.value.httpHandlerOptions.allowAutoRedirect,"onUpdate:modelValue":o[30]||(o[30]=u=>t.value.httpHandlerOptions.allowAutoRedirect=u)},{default:l(()=>[e(m,{value:!0},{default:l(()=>[d(i(a.$t("radio.allow.label")),1)]),_:1}),e(m,{value:!1},{default:l(()=>[d(i(a.$t("radio.not.allow.label")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1}),e(n,{span:6},{default:l(()=>[e(r,{label:a.$t("route.http.handler.use.cookie.container.label")},{default:l(()=>[e(_,{modelValue:t.value.httpHandlerOptions.useCookieContainer,"onUpdate:modelValue":o[31]||(o[31]=u=>t.value.httpHandlerOptions.useCookieContainer=u)},{default:l(()=>[e(m,{value:!0},{default:l(()=>[d(i(a.$t("radio.use.label")),1)]),_:1}),e(m,{value:!1},{default:l(()=>[d(i(a.$t("radio.not.use.label")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1}),e(n,{span:6},{default:l(()=>[e(r,{label:a.$t("route.http.handler.use.tracing.label")},{default:l(()=>[e(_,{modelValue:t.value.httpHandlerOptions.useTracing,"onUpdate:modelValue":o[32]||(o[32]=u=>t.value.httpHandlerOptions.useTracing=u)},{default:l(()=>[e(m,{value:!0},{default:l(()=>[d(i(a.$t("radio.use.label")),1)]),_:1}),e(m,{value:!1},{default:l(()=>[d(i(a.$t("radio.not.use.label")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1}),e(n,{span:6},{default:l(()=>[e(r,{label:a.$t("route.http.handler.use.proxy.label")},{default:l(()=>[e(_,{modelValue:t.value.httpHandlerOptions.useProxy,"onUpdate:modelValue":o[33]||(o[33]=u=>t.value.httpHandlerOptions.useProxy=u)},{default:l(()=>[e(m,{value:!0},{default:l(()=>[d(i(a.$t("radio.use.label")),1)]),_:1}),e(m,{value:!1},{default:l(()=>[d(i(a.$t("radio.not.use.label")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1})]),_:1})):y("",!0),t.value.httpHandlerOptions?(s(),p(v,{key:1,gutter:{md:8,lg:24,xl:32}},{default:l(()=>[e(n,{span:6},{default:l(()=>[e(r,{label:a.$t("route.http.handler.max.connections.per.server.label")},{default:l(()=>[e(h,{modelValue:t.value.httpHandlerOptions.maxConnectionsPerServer,"onUpdate:modelValue":o[34]||(o[34]=u=>t.value.httpHandlerOptions.maxConnectionsPerServer=u),placeholder:a.$t("route.http.handler.max.connections.per.server.placeholder"),"hide-button":!0},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1})):y("",!0)]),_:1},8,["title"]),e(S,{key:"6",title:a.$t("route.loadbalancer.title")},{default:l(()=>[t.value.loadBalancerOptions?(s(),p(v,{key:0,gutter:{md:8,lg:24,xl:32}},{default:l(()=>[e(n,{span:6},{default:l(()=>[e(r,{label:a.$t("route.loadbalancer.type.label"),field:"loadbalancerType"},{default:l(()=>[e(L,{modelValue:t.value.loadBalancerOptions.type,"onUpdate:modelValue":o[35]||(o[35]=u=>t.value.loadBalancerOptions.type=u),"allow-clear":"",placeholder:a.$t("route.loadbalancer.type.placeholder")},{default:l(()=>[e(b,{value:"LeastConnection"},{default:l(()=>[d(i(a.$t("route.loadbalancer.type.least.connection.label")),1)]),_:1}),e(b,{value:"RoundRobin"},{default:l(()=>[d(i(a.$t("route.loadbalancer.type.round.robin.label")),1)]),_:1}),e(b,{value:"NoLoadBalance"},{default:l(()=>[d(i(a.$t("route.loadbalancer.type.no.load.balance.label")),1)]),_:1}),e(b,{value:"CookieStickySessions"},{default:l(()=>[d(i(a.$t("route.loadbalancer.type.cookie.sticky.sessions.label")),1)]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(n,{span:6},{default:l(()=>[e(r,{label:a.$t("route.loadbalancer.key.label"),field:"loadbalancerKey"},{default:l(()=>[e(c,{modelValue:t.value.loadBalancerOptions.key,"onUpdate:modelValue":o[36]||(o[36]=u=>t.value.loadBalancerOptions.key=u),placeholder:a.$t("route.loadbalancer.key.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(n,{span:6},{default:l(()=>[e(r,{label:a.$t("route.loadbalancer.expiry.label"),field:"loadbalancerExpiry"},{default:l(()=>[e(h,{modelValue:t.value.loadBalancerOptions.expiry,"onUpdate:modelValue":o[37]||(o[37]=u=>t.value.loadBalancerOptions.expiry=u),"hide-button":!0,placeholder:a.$t("route.loadbalancer.expiry.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1})):y("",!0)]),_:1},8,["title"])]),_:1})]),_:1})]),_:1}),Le("div",Cl,[e($,null,{default:l(()=>[e(P,{type:"primary",loading:re(x),onClick:ve},{default:l(()=>[d(i(a.$t("submit")),1)]),_:1},8,["loading"])]),_:1})])]),_:1},8,["model"]),e(we,{visible:H.value,"onUpdate:visible":o[40]||(o[40]=u=>H.value=u),title:a.$t(`${T.value?"route.downstreamHostAndPorts.create.modal":"route.downstreamHostAndPorts.update.modal"}`),"mask-closable":!1,onCancel:pe,onOk:me},{default:l(()=>[e(ue,{model:V.value},{default:l(()=>[e(r,{field:"host",label:a.$t("route.downstreamHostAndPorts.host.table")},{default:l(()=>[e(c,{modelValue:V.value.host,"onUpdate:modelValue":o[38]||(o[38]=u=>V.value.host=u)},null,8,["modelValue"])]),_:1},8,["label"]),e(r,{field:"port",label:a.$t("route.downstreamHostAndPorts.port.table")},{default:l(()=>[e(h,{modelValue:V.value.port,"onUpdate:modelValue":o[39]||(o[39]=u=>V.value.port=u)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["visible","title"])])}}});var Fl=ke(Sl,[["__scopeId","data-v-95029aa6"]]);export{Fl as default};
