import{_ as W,u as X}from"./index.ed1369b5.js";import{u as Y}from"./loading.3f202aeb.js";import"./common.546a3b76.js";/* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css              */import{d as Z,e as y,r as ee,c as te,o as ae,aG as i,A as $,B as oe,aH as t,aF as a,u as h,aJ as c,aK as r,aC as B,aV as I,aS as f,bC as ne,b4 as le,b1 as se,b2 as ie,b3 as ce,bD as re,bE as ue,bF as de,bG as me}from"./arco.1db1f704.js";import{g as pe}from"./project.255163e8.js";import{g as k,d as _e,a as be,u as fe}from"./global-configuration.4248e053.js";import{u as ge}from"./vue.bbd05113.js";import"./chart.520624f6.js";import"./ocelot-options.514ee915.js";const ve={class:"container"},ye={name:"SearchProject"},$e=Z({...ye,setup(he){const x=ge(),C=y([]),w=e=>{x.push({name:"global-edit",query:{id:e}})},D=e=>{I.warning({titleAlign:"start",title:l("modal.title",{op:1}),content:l("gc.modal.contentt",{op:3}),okText:l("confirm"),cancelText:l("cancel"),hideCancel:!1,onOk:async()=>{var o=await _e(e);o&&o.data?(f.success({content:l("delete.success"),duration:5*1e3}),u()):f.error({content:l("delete.fail")})}})},{loading:M,setLoading:j}=Y(!0),{t:l}=X(),s=y(k()),z=y([]),m={page:1,pageSize:10},g=ee({...m}),F=te(()=>[{label:l("label.status.enabled"),value:1},{label:l("label.status.disabled"),value:2}]),u=async(e=k())=>{j(!0);try{const{data:o}=await be(e);z.value=o.items,g.page=e.page,g.total=o.total}catch{}finally{j(!1)}},O=()=>{m.page=1,u({...m,...s.value})},P=e=>{m.page=e,u({...m,...s.value})},q=(e,o)=>{var b=o===1?2:1;I.warning({titleAlign:"start",title:l("modal.title"),content:l("gc.modal.content",{op:b}),okText:l("confirm"),cancelText:l("cancel"),hideCancel:!1,onOk:async()=>{var p=await fe(e,b);p&&p.data?(f.success({content:l("submit.update.success"),duration:5*1e3}),u()):f.error({content:l("submit.update.fail"),duration:5*1e3})}})},A=()=>{s.value=k(),u(s.value)};return ae(async()=>{u();const{data:e}=await pe();e&&(C.value=e)}),(e,o)=>{const b=i("Breadcrumb"),p=ne,v=le,E=i("icon-search"),d=se,L=i("icon-refresh"),N=i("icon-plus"),S=ie,G=ce,T=re,_=ue,U=de,H=i("icon-close"),J=i("icon-check"),K=i("icon-edit"),Q=i("icon-delete"),R=me;return $(),oe("div",ve,[t(b,{items:["menu.globalconfiguration","menu.globalconfiguration.search"]},null,8,["items"]),t(T,{hoverable:"",size:"medium"},{default:a(()=>[t(G,{model:s.value,layout:"inline"},{default:a(()=>[t(v,{field:"projectId",label:e.$t("project.label.name")},{default:a(()=>[t(p,{modelValue:s.value.projectId,"onUpdate:modelValue":o[0]||(o[0]=n=>s.value.projectId=n),"allow-clear":"",options:C.value,"field-names":{value:"id",label:"name"},placeholder:e.$t("select.options.default")},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"]),t(v,{field:"status",label:e.$t("label.status")},{default:a(()=>[t(p,{modelValue:s.value.status,"onUpdate:modelValue":o[1]||(o[1]=n=>s.value.status=n),"allow-clear":"",options:h(F),placeholder:e.$t("select.options.default")},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"]),t(v,null,{default:a(()=>[t(S,{size:"medium"},{default:a(()=>[t(d,{type:"primary",onClick:O},{icon:a(()=>[t(E)]),default:a(()=>[c(" "+r(e.$t("search.query")),1)]),_:1}),t(d,{onClick:A},{icon:a(()=>[t(L)]),default:a(()=>[c(" "+r(e.$t("search.reset")),1)]),_:1}),t(d,{type:"primary",onClick:o[2]||(o[2]=n=>w(""))},{icon:a(()=>[t(N)]),default:a(()=>[c(" "+r(e.$t("project.name.table.operation")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),t(T,{style:{"margin-top":"8px"},size:"medium"},{default:a(()=>[t(R,{"row-key":"id",size:"small",loading:h(M),pagination:h(g),data:z.value,"column-resizable":"",class:"arco-table-border-cell",onPageChange:P},{columns:a(()=>[t(_,{title:e.$t("project.name.table"),"data-index":"projectName",align:"center"},null,8,["title"]),t(_,{title:e.$t("gc.name.table"),"data-index":"name",align:"center"},null,8,["title"]),t(_,{title:e.$t("table.column.status"),"data-index":"status",align:"center"},{cell:a(({record:n})=>[t(U,{color:n.status===1?"blue":"orange"},{default:a(()=>[c(r(e.$t(`${n.status===1?"radio.enabled.label":"radio.disabled.label"}`)),1)]),_:2},1032,["color"])]),_:1},8,["title"]),t(_,{title:e.$t("table.column.createtime"),"data-index":"createTime",align:"center"},null,8,["title"]),t(_,{title:e.$t("table.operations"),"data-index":"operations",align:"center"},{cell:a(({record:n})=>[t(S,null,{default:a(()=>[t(d,{type:"text",size:"mini",status:n.status===1?"warning":"success",onClick:V=>q(n.id,n.status)},{icon:a(()=>[n.status===1?($(),B(H,{key:0})):($(),B(J,{key:1}))]),default:a(()=>[c(" "+r(e.$t(`${n.status===1?"radio.disabled.label":"radio.enabled.label"}`)),1)]),_:2},1032,["status","onClick"]),t(d,{type:"text",size:"mini",onClick:V=>w(n.id)},{icon:a(()=>[t(K)]),default:a(()=>[c(" "+r(e.$t("table.operations.edit")),1)]),_:2},1032,["onClick"]),t(d,{type:"text",size:"mini",status:"danger",onClick:V=>D(n.id)},{icon:a(()=>[t(Q)]),default:a(()=>[c(" "+r(e.$t("table.operations.del")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["title"])]),_:1},8,["loading","pagination","data"])]),_:1})])}}});var Pe=W($e,[["__scopeId","data-v-6f151d86"]]);export{Pe as default};
